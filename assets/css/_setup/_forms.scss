/**************************************************
* STYLES DEFINITIONS
**************************************************/

@mixin button-reset {
	padding:          0;
	border:           none;
	font:             inherit;
	color:            inherit;
	background-color: transparent;
	cursor:           pointer;
}

@mixin label-style {
	display:     inline-block;
	margin:      0 0 .5em;
	padding:     0;

	max-width:   100%;

	@include font_default_bold;
	font-size:   1em;
	line-height: line_height_default();

	color:       $color_default;
}

@mixin input-style {
	display:       inline-block;
	margin:        0;
	padding:       .5em .8em;

	max-width:     100%;
	height:        auto;

	@include font_default;
	font-size:     1em;
	line-height:   line_height_default();

	color:         $color_default;
	background:    white;

	border:        1px solid $color_grey_light;
	border-radius: 3px;

	&:disabled {
		color: #999999;
	}

	&:hover {
	}

	&:focus {
		outline:      none;
		border-color: $color_grey_medium;
	}

	&:focus-within {
		outline:      none;
		border-color: $color_grey_medium;
	}

	&.error,
	.error & {
		border-color: $color_orange_red;
	}
}

@mixin submit-style {
	display:          inline-block;
	padding:          .5rem .8rem;

	text-align:       center;

	color:            white;
	background-color: $color_dodger_blue;
	border:           1px solid $color_dodger_blue;
	border-radius:    rem(5px);
	text-decoration:  none;

	@include font_title;

	&:hover,
	&:focus {
		color:            $color_dodger_blue;
		background-color: white;
	}

	transition:       color .25s ease-in-out,
					  background-color .15s ease-in-out;

	&:disabled {
		color:            #999999;
		background-color: #cccccc;
	}
}

.submit-style {
	@include submit-style;
}

/**************************************************
* STYLES ASSIGNATION
**************************************************/

input[type="checkbox"],
input[type="radio"] {
	outline: none;
}

input[type="text"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="email"],
input[type="number"],
textarea,
select {
	@include input-style;
}

select {
	padding-right:       rem(30px);

	-webkit-appearance:  none;
	-moz-appearance:     none;
	appearance:          none;

	$color: $color_default;
	@import '../_assets/picto-select.svg';
	background-repeat:   no-repeat;
	background-position: right rem(10px) center;
}

select::-ms-expand {
	display: none;
}

option {
	font-size:    1rem;

	border:       none;
	margin-right: .56em;
}

textarea {
	width:       100%;

	font-size:   1rem;

	line-height: line_height_default();
	height:      line_height_default() * 5 * 1em;
}

button[type="button"]:not([class]),
button[type="submit"],
input[type="submit"] {
	@include submit-style;
}

.grippie {
	display: none;
}

/**************************************************
* CHECKBOXES
**************************************************/

.checkbox-label {
	position:     relative;
	padding-left: rem(30px);

	&::before {
		content:    '';
		position:   absolute;
		left:       0;
		top:        1.1em;
		margin-top: rem(-13px);

		@include picto-checkbox();
	}

	input[type="checkbox"]:checked + & {
		&::before {
			@include picto-checkbox(1, false);
		}
	}

	&:focus,
	input[type="checkbox"]:focus + & {
		&::before {
			@include picto-checkbox(2, false);
		}
	}

	input[type="checkbox"]:checked &:focus,
	input[type="checkbox"]:checked:focus + & {
		&::before {
			@include picto-checkbox(3, false);
		}
	}
}

@mixin checkbox-label {
	@extend .checkbox-label;
}

.form-row__checkbox,
.form-row__checkboxes:not(#_o) {
	label:not(.autocomplete-tags) {
		display: block;

		@include checkbox-label;
	}

	input[type="checkbox"] {
		position: absolute;
		width:    0;
		height:   0;
		opacity:  0;
		overflow: hidden;
	}
}

/**************************************************
* RADIOBOXES
**************************************************/

.radiobox-label {
	position:     relative;
	padding-left: rem(30px);

	&::before {
		content:    '';
		position:   absolute;
		left:       0;
		top:        1.1em;
		margin-top: rem(-13px);

		@include picto-radiobox();
	}

	input[type="radio"]:checked + & {
		&::before {
			@include picto-radiobox(1, false);
		}
	}

	&:focus,
	input[type="radio"]:focus + & {
		&::before {
			@include picto-radiobox(2, false);
		}
	}

	input[type="radio"]:checked &:focus,
	input[type="radio"]:checked:focus + & {
		&::before {
			@include picto-radiobox(3, false);
		}
	}
}

@mixin radiobox-label {
	@extend .radiobox-label;
}

.form-row__radiobox,
.form-row__radioboxes:not(#_o) {
	label {
		display: block;

		@include radiobox-label;
	}

	input[type="radio"] {
		position: absolute;
		width:    0;
		height:   0;
		opacity:  0;
		overflow: hidden;
	}
}

/**************************************************
* FORM LAYOUT
**************************************************/

$form_label_width: (1/3) * 100%;

.form-row {
	margin-bottom: rem(20px);

	display:       flex;
	flex-flow:     column nowrap;
	align-items:   stretch;

	label:not(.submit-style):not(.autocomplete-tags) {
		@include label-style;
	}

	label.required {
		&::after {
			content:     '*';
			margin-left: .31em;
		}
	}

	.hint {
		margin: 0 0 .5em;

		color:  $color_grey_light;
	}
}

.form-row__mandatory {
	margin-bottom: .5em;

	color:         $color_dodger_blue;
}

.form-row__field {
}

.form-row__file {
	position: relative;

	input[type="file"] {
		position: absolute;
		opacity:  0;
	}

	label.submit-style {
		align-self: flex-start;
	}
}

.form-row__checkbox {
}

.form-row__submit {
	position:      relative;
	display:       block;
	margin-bottom: 0;
	padding-top:   padding_vertical();

	border-top:    1px solid $color_grey_light;

	[type="submit"] {
		display:      inline-block;
		min-width:    30%;
		margin-right: 2rem;
	}

	a:not(#_o) {
		color:           $color_dodger_blue;

		text-decoration: none;

		&:focus,
		&:hover {
			text-decoration: underline;
		}
	}
}
